# Project 2

<p align="center">
  <a href="#">
    <img src="./img/logo.png" alt="Foodie logo" width="72" height="82">
  </a>
</p>

<h3 align="center">Foodie (Back-End REST API)</h3>

<p align="center">
  Foodie is an a discussion forum where people post and comment on a food recipe. 
  <br>
    
  <br>
  ·
  <a href="https://www.pivotaltracker.com/n/projects/2407495">User Stories</a>
   ·
</p>

## User Stories

[Pivotal Tracker (Back-End REST API)](https://www.pivotaltracker.com/n/projects/2407495)

Application Goals from User Stories are:
    
* Sign-up and Create Profile Foodie User
* Anyone can See Posts and Comments
* Signed-in user able to post a Post and comment
* Signed-in user able to delete it's own Posts and Comments



## Timeline

1. Requirement Analysis
    * Monday(Oct 21, 2019) - user stories
        
        We give our user stories points, so that we could priority our development steps 
 
            https://www.pivotaltracker.com/n/projects/2407495
    
    * Monday(Oct 21, 2019) - ERD
        
            Pair mapped ERD to include 5 tables and various foreign keys to connect the tables.
            
         [ERD](#erd)
        

  

## Diagrams
##### Rough Sketch of ERD.
![ERD](./img/ERD.jpg)

##### Soft Representation of ERD.
![ERD](./img/ERD_2.png)
    
    * Visualization Generated by DataGrip.
     
#### Class Diagrams

##### Package Diagram
![package](./img/package_diagram.png)  

###### Package dao
![package](./img/package_dao.png)  
     
###### Package service
![package](./img/package_service.png) 
     
###### Package config
![package](./img/config_package.png) 

###### Package entity
![package](./img/package_entity.png) 

###### Package controller
![package](./img/controller_package.png) 

## API
```text
Base URL: /, Version: 1.1

Default request content-types: application/json

Default response content-types: application/json

Schemes: http 
```
### Summary

<table style="
    width: 100%;
    max-width: 100%;
    margin-bottom: 20px;
    border: 1px solid #ddd;
    border-collapse: collapse;
    border-spacing: 0;
    background-color: transparent;
    display: table;
">
    <thead>
    <tr>
        <th>Path</th>
        <th>Operation</th>
        <th>Description</th>
        <th>Controller#Method</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;" rowspan="2" style="border: 1px solid #ddd;padding: 5px;">
            <a href="#path--attributes-computed">/user/signup</a>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed-post">POST</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Create a User (Sign-up)</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>UserController#signup</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;" rowspan="2" style="border: 1px solid #ddd;padding: 5px;">
            <a href="#path--attributes-computed">/user/login</a>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed-post">POST</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Create a login session.</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>UserController#login</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;" rowspan="2" style="border: 1px solid #ddd;padding: 5px;">
            <a href="#path--attributes-computed">/user/reset</a>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed-post">PUT</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Reset User Password.</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>UserController#reset</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;" rowspan="3">
            <a href="#path--attributes-computed--id-">/profile</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--delete">GET</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Retrieve the profile of the User.</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>ProfileController#getProfile</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--put">POST</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Create the profile of the User.</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>ProfileController#createProfile</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--put">PUT</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Update profile of the User.</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>ProfileController#updateProfile</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;" rowspan="2">
            <a href="#path--attributes-computed--id-">/post</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--delete">GET</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Getting the Posts of the User (Token Auth is Required).</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>PostController#listPostByUser</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--put">POST</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Create a Posts of the User (Token Auth is Required).</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>PostController#addPost</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;" rowspan="2" style="border: 1px solid #ddd;padding: 5px;">
            <a href="#path--attributes-computed">/post/list</a>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed-post">GET</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Retrieve all the posts.</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>PostController#listPost</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;" rowspan="2">
            <a href="#path--attributes-computed--id-">/post/{postId}</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--delete">PUT</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Updating a Post. (Token Auth is Required).</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>PostController#updatePost</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--put">DELETE</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Deleting a Post. (Token Auth is Required).</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>PostController#deletePost</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;" rowspan="2">
            <a href="#path--attributes-computed--id-">/post/{postId}/comment/</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--delete">GET</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Retrieve all the comments of the a Post. </p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>PostController#listCommentsByPost</p>
        </td>
    </tr>
    <tr>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <a href="#operation--attributes-computed--id--put">POST</a>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>Create a comment on a Post. (Token Auth is Required)</p>
        </td>
        <td style="border: 1px solid #ddd;padding: 5px;">
            <p>PostController#addComment</p>
        </td>
    </tr>
    </tbody>
</table>
    
### Security

```text
tokenBasedAuth
type: Bearer Token

Description:

Basic HTTP authorization with Bearer Token.


* Bearer Token will be returned after login using 'username' and 'password'.
```
    
### Objects

```text
User
 * Properties 
    -> userId : integer
    -> username : string
    -> passsword : string
    -> roles : List<Role>
    -> profile : UserProfile
    -> posts : List<Post>
    -> comments : List<Comment>
```

```text
Role
 * Properties 
    -> roleId : integer
    -> name : string
    -> users : List<User>
```

```text
Profile
 * Properties 
    -> profileId : integer
    -> email : string
    -> mobile : string
    -> address : string
    -> user : User
```

```text
Post
 * Properties 
    -> postId : integer
    -> title : string
    -> postText : string
    -> user : User
```

```text
Comment
 * Properties 
    -> commentId : integer
    -> commentText : string
    -> user : User
    -> post : Post
```

```text
JwtResponse
 * Properties 
    -> username : string
    -> jwt : string
```


## What's included

Within the download you'll find the following directories and files, logically grouping common assets and providing both compiled and minified variations. You'll see something like this:

```text
cognizant-p2/
├── README.md
├── pom.xml
├── src
│   ├── com
│   │   └── ga
│   │       ├── config
│   │       │   ├── AppConfig.java
│   │       │   ├── AppDispatcherServlet.java
│   │       │   ├── JwtRequestFilter.java
│   │       │   ├── JwtUtil.java
│   │       │   ├── SecurityConfig.java
│   │       │   └── SecurityConfigInitializer.java
│   │       ├── controller
│   │       │   ├── CommentController.java
│   │       │   ├── PostController.java
│   │       │   ├── ProfileController.java
│   │       │   └── UserController.java
│   │       ├── dao
│   │       │   ├── CommentDao.java
│   │       │   ├── CommentDaoImpl.java
│   │       │   ├── PostDao.java
│   │       │   ├── PostDaoImpl.java
│   │       │   ├── UserDao.java
│   │       │   ├── UserDaoImpl.java
│   │       │   ├── UserProfileDao.java
│   │       │   ├── UserProfileDaoImpl.java
│   │       │   ├── UserRoleDao.java
│   │       │   └── UserRoleDaoImpl.java
│   │       ├── entity
│   │       │   ├── Comment.java
│   │       │   ├── JwtResponse.java
│   │       │   ├── Post.java
│   │       │   ├── User.java
│   │       │   ├── UserProfile.java
│   │       │   └── UserRole.java
│   │       └── service
│   │           ├── CommentService.java
│   │           ├── CommentServiceImpl.java
│   │           ├── PostService.java
│   │           ├── PostServiceImpl.java
│   │           ├── UserProfileService.java
│   │           ├── UserProfileServiceImpl.java
│   │           ├── UserRoleService.java
│   │           ├── UserRoleServiceImpl.java
│   │           ├── UserService.java
│   │           └── UserServiceImpl.java
│   ├── main
│   │   └── webapp
│   │       ├── WEB-INF
│   │       │   └── web.xml
│   │       └── index.jsp
│   └── resources
│       ├── application-dev.properties
│       └── application.properties
└── test
    └── com
        └── ga
            └── dao
                └── UserDaoTest.java


```
    
## Developers

**Marcus Sauceda**

- <https://github.com/ScottSauceda>

**Mohammad Javed**

- <https://github.com/gajjuCoderBoi>